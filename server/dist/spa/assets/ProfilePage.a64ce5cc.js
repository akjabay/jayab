import{Q as C}from"./QPage.286a5f6f.js";import{b as f}from"./request.cab34313.js";import{C as c,E as h,_ as l,G as a,H as $,I as r,L as s,J as o,P as v,S as x,ao as i,K as d,O as q,Q as P,N as Q,r as k,F as n}from"./index.9f5cea10.js";import{a as E}from"./index.2115cb6d.js";import{M as I}from"./MainTitleComp.ccf00b88.js";import{Q as S}from"./QCard.c4dcc096.js";import"./axios.37489ddf.js";const B=c({name:"ProfileComp",components:{},props:{loadedUser:Object},setup(){return{}},methods:{},mounted(){},computed:{...h(f,["isUserLoggedIn","user"])}}),N={class:""},b={class:"text-center"},w={class:"q-ma-md"},F={class:"q-my-sm"},L={class:"text-h5"},V={class:"text-normal",style:{opacity:"0.8"}},D={key:0,class:"q-my-xs text-center"};function z(e,t,p,m,_,u){return a(),$(S,{flat:"",tile:""},{default:r(()=>[s("div",N,[s("div",b,[s("div",w,[o(x,{size:"90px",color:"blue-grey-2"},{default:r(()=>[o(v,{name:"person"})]),_:1})]),s("div",F,[s("div",L,i(e.loadedUser.name||e.loadedUser.id),1),s("div",V,i(e.loadedUser.email),1)])]),e.isUserLoggedIn&&(e.user.id==e.loadedUser.id||e.user.is_superuser==1)?(a(),d("div",D,[s("div",null,[o(P,{to:"/accounts/profile/setting/"+e.loadedUser.id,class:"q-mx-xs q-px-md",outline:"",rounded:"",dense:""},{default:r(()=>[q(" accountSettings ")]),_:1},8,["to"])])])):Q("",!0)])]),_:1})}var A=l(B,[["render",z]]);const M=c({name:"EmptyComp",props:{text:String},setup(){return{}}}),O={class:"q-ma-xl text-center"},T={class:"ad-nothing-text"},j={class:"text-bold"};function G(e,t,p,m,_,u){return a(),d("div",O,[s("div",T,[o(v,{size:"lg",name:"list"}),s("div",j,i(e.text?e.text:"emptyList"),1)])])}var H=l(M,[["render",G],["__scopeId","data-v-31746013"]]);const J=c({name:"ProfilePage",components:{MainTitleComp:I,ProfileComp:A,EmptyComp:H},setup(){return{loadedUser:k({})}},methods:{async fetchData(){try{const e=this.$route.params.userId;if(e){const t=await E.user.userFind({id:e});t.data.errors?this.$q.notify({type:"warning",message:"failed",caption:t.data.errors[0]}):t.data.data.userFind&&(this.loadedUser=t.data.data.userFind)}else e||(this.loadedUser=this.user)}catch(e){const t=new Error(e);console.log(t),this.$q.notify({type:"negative",message:"failed",caption:"failed"})}}},mounted(){this.fetchData()},computed:{...h(f,["user"])}}),K={key:0},R={key:1};function W(e,t,p,m,_,u){const y=n("main-title-comp"),g=n("profile-comp"),U=n("empty-comp");return a(),$(C,null,{default:r(()=>[o(y,{title:"profile"}),e.loadedUser&&e.loadedUser.id?(a(),d("div",K,[o(g,{loadedUser:e.loadedUser},null,8,["loadedUser"])])):(a(),d("div",R,[o(U)]))]),_:1})}var ae=l(J,[["render",W]]);export{ae as default};
