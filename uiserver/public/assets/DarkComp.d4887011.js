import{r as k,X as qe,ad as X,U as Te,ae as Y,w as x,o as re,y as z,g as R,af as pe,S as $,a9 as De,l as ue,c as b,ag as He,h as w,p as se,aa as Me,ah as Ee,Y as Ae,ai as ce,aj as Pe,N as We,Q as O,ak as Oe,i as Le,al as $e,d as Ve,_ as ze,D as G,J,I as Re,L as _e,j as Qe}from"./index.e3bb839c.js";import{Q as je}from"./QBtnGroup.323b7aa4.js";import{e as Fe}from"./selection.19156545.js";import{p as Z,g as Ie,u as Ke,d as Ne,e as Ue,f as Xe,h as Ye,i as Ge,j as Je,r as Ze,k as ee,a as et,l as tt,m as nt}from"./focusout.1ff9a27a.js";import{a as ot,b as lt}from"./index.53176d0e.js";import{u as de,a as at}from"./use-transition.ef594146.js";import{b as it}from"./focus-manager.32f8d49a.js";import{u as rt}from"./use-form.3b78d9ef.js";import{Q as ut}from"./QToggle.b725a832.js";const st={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function ct({showing:e,avoidEmit:n,configureAnchorEl:a}){const{props:t,proxy:o,emit:u}=R(),l=k(null);let f=null;function h(i){return l.value===null?!1:i===void 0||i.touches===void 0||i.touches.length<=1}const s={};a===void 0&&(Object.assign(s,{hide(i){o.hide(i)},toggle(i){o.toggle(i),i.qAnchorHandled=!0},toggleKey(i){qe(i,13)===!0&&s.toggle(i)},contextClick(i){o.hide(i),X(i),Te(()=>{o.show(i),i.qAnchorHandled=!0})},prevent:X,mobileTouch(i){if(s.mobileCleanup(i),h(i)!==!0)return;o.hide(i),l.value.classList.add("non-selectable");const m=i.target;Y(s,"anchor",[[m,"touchmove","mobileCleanup","passive"],[m,"touchend","mobileCleanup","passive"],[m,"touchcancel","mobileCleanup","passive"],[l.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,o.show(i),i.qAnchorHandled=!0},300)},mobileCleanup(i){l.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&i!==void 0&&Fe()}}),a=function(i=t.contextMenu){if(t.noParentEvent===!0||l.value===null)return;let m;i===!0?o.$q.platform.is.mobile===!0?m=[[l.value,"touchstart","mobileTouch","passive"]]:m=[[l.value,"mousedown","hide","passive"],[l.value,"contextmenu","contextClick","notPassive"]]:m=[[l.value,"click","toggle","passive"],[l.value,"keyup","toggleKey","passive"]],Y(s,"anchor",m)});function c(){pe(s,"anchor")}function v(i){for(l.value=i;l.value.classList.contains("q-anchor--skip");)l.value=l.value.parentNode;a()}function g(){if(t.target===!1||t.target===""||o.$el.parentNode===null)l.value=null;else if(t.target===!0)v(o.$el.parentNode);else{let i=t.target;if(typeof t.target=="string")try{i=document.querySelector(t.target)}catch{i=void 0}i!=null?(l.value=i.$el||i,a()):(l.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return x(()=>t.contextMenu,i=>{l.value!==null&&(c(),a(i))}),x(()=>t.target,()=>{l.value!==null&&c(),g()}),x(()=>t.noParentEvent,i=>{l.value!==null&&(i===!0?c():a())}),re(()=>{g(),n!==!0&&t.modelValue===!0&&l.value===null&&u("update:modelValue",!1)}),z(()=>{f!==null&&clearTimeout(f),c()}),{anchorEl:l,canShow:h,anchorEvents:s}}function dt(e,n){const a=k(null);let t;function o(f,h){const s=`${h!==void 0?"add":"remove"}EventListener`,c=h!==void 0?h:t;f!==window&&f[s]("scroll",c,$.passive),window[s]("scroll",c,$.passive),t=h}function u(){a.value!==null&&(o(a.value),a.value=null)}const l=x(()=>e.noParentEvent,()=>{a.value!==null&&(u(),n())});return z(l),{localScrollTarget:a,unconfigureScrollTarget:u,changeScrollEvent:o}}const{notPassiveCapture:p}=$,y=[];function D(e){const n=e.target;if(n===void 0||n.nodeType===8||n.classList.contains("no-pointer-events")===!0)return;let a=Z.length-1;for(;a>=0;){const t=Z[a].$;if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;a--}for(let t=y.length-1;t>=0;t--){const o=y[t];if((o.anchorEl.value===null||o.anchorEl.value.contains(n)===!1)&&(n===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(n)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function ft(e){y.push(e),y.length===1&&(document.addEventListener("mousedown",D,p),document.addEventListener("touchstart",D,p))}function te(e){const n=y.findIndex(a=>a===e);n>-1&&(y.splice(n,1),y.length===0&&(document.removeEventListener("mousedown",D,p),document.removeEventListener("touchstart",D,p)))}let ne,oe;function le(e){const n=e.split(" ");return n.length!==2?!1:["top","center","bottom"].includes(n[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(n[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function ht(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const V={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{V[`${e}#ltr`]=e,V[`${e}#rtl`]=e});function ae(e,n){const a=e.split(" ");return{vertical:a[0],horizontal:V[`${a[1]}#${n===!0?"rtl":"ltr"}`]}}function mt(e,n){let{top:a,left:t,right:o,bottom:u,width:l,height:f}=e.getBoundingClientRect();return n!==void 0&&(a-=n[1],t-=n[0],u+=n[1],o+=n[0],l+=n[0],f+=n[1]),{top:a,bottom:u,height:f,left:t,right:o,width:l,middle:t+(o-t)/2,center:a+(u-a)/2}}function vt(e,n,a){let{top:t,left:o}=e.getBoundingClientRect();return t+=n.top,o+=n.left,a!==void 0&&(t+=a[1],o+=a[0]),{top:t,bottom:t+1,height:1,left:o,right:o+1,width:1,middle:o,center:t}}function gt(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function ie(e,n,a){return{top:e[a.anchorOrigin.vertical]-n[a.selfOrigin.vertical],left:e[a.anchorOrigin.horizontal]-n[a.selfOrigin.horizontal]}}function bt(e){if(De.is.ios===!0&&window.visualViewport!==void 0){const f=document.body.style,{offsetLeft:h,offsetTop:s}=window.visualViewport;h!==ne&&(f.setProperty("--q-pe-left",h+"px"),ne=h),s!==oe&&(f.setProperty("--q-pe-top",s+"px"),oe=s)}const{scrollLeft:n,scrollTop:a}=e.el,t=e.absoluteOffset===void 0?mt(e.anchorEl,e.cover===!0?[0,0]:e.offset):vt(e.anchorEl,e.absoluteOffset,e.offset);let o={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(o.minWidth=t.width+"px",e.cover===!0&&(o.minHeight=t.height+"px")),Object.assign(e.el.style,o);const u=gt(e.el);let l=ie(t,u,e);if(e.absoluteOffset===void 0||e.offset===void 0)L(l,t,u,e.anchorOrigin,e.selfOrigin);else{const{top:f,left:h}=l;L(l,t,u,e.anchorOrigin,e.selfOrigin);let s=!1;if(l.top!==f){s=!0;const c=2*e.offset[1];t.center=t.top-=c,t.bottom-=c+2}if(l.left!==h){s=!0;const c=2*e.offset[0];t.middle=t.left-=c,t.right-=c+2}s===!0&&(l=ie(t,u,e),L(l,t,u,e.anchorOrigin,e.selfOrigin))}o={top:l.top+"px",left:l.left+"px"},l.maxHeight!==void 0&&(o.maxHeight=l.maxHeight+"px",t.height>l.maxHeight&&(o.minHeight=o.maxHeight)),l.maxWidth!==void 0&&(o.maxWidth=l.maxWidth+"px",t.width>l.maxWidth&&(o.minWidth=o.maxWidth)),Object.assign(e.el.style,o),e.el.scrollTop!==a&&(e.el.scrollTop=a),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function L(e,n,a,t,o){const u=a.bottom,l=a.right,f=Ie(),h=window.innerHeight-f,s=document.body.clientWidth;if(e.top<0||e.top+u>h)if(o.vertical==="center")e.top=n[t.vertical]>h/2?Math.max(0,h-u):0,e.maxHeight=Math.min(u,h);else if(n[t.vertical]>h/2){const c=Math.min(h,t.vertical==="center"?n.center:t.vertical===o.vertical?n.bottom:n.top);e.maxHeight=Math.min(u,c),e.top=Math.max(0,c-u)}else e.top=Math.max(0,t.vertical==="center"?n.center:t.vertical===o.vertical?n.top:n.bottom),e.maxHeight=Math.min(u,h-e.top);if(e.left<0||e.left+l>s)if(e.maxWidth=Math.min(l,s),o.horizontal==="middle")e.left=n[t.horizontal]>s/2?Math.max(0,s-l):0;else if(n[t.horizontal]>s/2){const c=Math.min(s,t.horizontal==="middle"?n.middle:t.horizontal===o.horizontal?n.right:n.left);e.maxWidth=Math.min(l,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?n.middle:t.horizontal===o.horizontal?n.left:n.right),e.maxWidth=Math.min(l,s-e.left)}var wt=ue({name:"QMenu",inheritAttrs:!1,props:{...st,...Ke,...ot,...de,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:le},self:{type:String,validator:le},offset:{type:Array,validator:ht},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ne,"click","escapeKey"],setup(e,{slots:n,emit:a,attrs:t}){let o=null,u,l,f;const h=R(),{proxy:s}=h,{$q:c}=s,v=k(null),g=k(!1),i=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),m=lt(e,c),{registerTick:H,removeTick:M}=Ue(),{registerTimeout:q}=Xe(),{transitionProps:T,transitionStyle:S}=at(e),{localScrollTarget:d,changeScrollEvent:fe,unconfigureScrollTarget:he}=dt(e,N),{anchorEl:C,canShow:me}=ct({showing:g}),{hide:_}=Ye({showing:g,canShow:me,handleShow:xe,handleHide:ye,hideOnRouteChange:i,processOnMount:!0}),{showPortal:Q,hidePortal:j,renderPortal:ve}=Ge(h,v,Ce,"menu"),E={anchorEl:C,innerRef:v,onClickOutside(r){if(e.persistent!==!0&&g.value===!0)return _(r),(r.type==="touchstart"||r.target.classList.contains("q-dialog__backdrop"))&&Ae(r),!0}},F=b(()=>ae(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),ge=b(()=>e.cover===!0?F.value:ae(e.self||"top start",c.lang.rtl)),be=b(()=>(e.square===!0?" q-menu--square":"")+(m.value===!0?" q-menu--dark q-dark":"")),we=b(()=>e.autoClose===!0?{onClick:ke}:{}),I=b(()=>g.value===!0&&e.persistent!==!0);x(I,r=>{r===!0?(nt(P),ft(E)):(ee(P),te(E))});function A(){it(()=>{let r=v.value;r&&r.contains(document.activeElement)!==!0&&(r=r.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.querySelector("[autofocus], [data-autofocus]")||r,r.focus({preventScroll:!0}))})}function xe(r){if(o=e.noRefocus===!1?document.activeElement:null,Je(U),Q(),N(),u=void 0,r!==void 0&&(e.touchPosition||e.contextMenu)){const W=He(r);if(W.left!==void 0){const{top:Se,left:Be}=C.value.getBoundingClientRect();u={left:W.left-Be,top:W.top-Se}}}l===void 0&&(l=x(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,B)),e.noFocus!==!0&&document.activeElement.blur(),H(()=>{B(),e.noFocus!==!0&&A()}),q(()=>{c.platform.is.ios===!0&&(f=e.autoClose,v.value.click()),B(),Q(!0),a("show",r)},e.transitionDuration)}function ye(r){M(),j(),K(!0),o!==null&&(r===void 0||r.qClickOutside!==!0)&&(((r&&r.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),q(()=>{j(!0),a("hide",r)},e.transitionDuration)}function K(r){u=void 0,l!==void 0&&(l(),l=void 0),(r===!0||g.value===!0)&&(Ze(U),he(),te(E),ee(P)),r!==!0&&(o=null)}function N(){(C.value!==null||e.scrollTarget!==void 0)&&(d.value=et(C.value,e.scrollTarget),fe(d.value,B))}function ke(r){f!==!0?(tt(s,r),a("click",r)):f=!1}function U(r){I.value===!0&&e.noFocus!==!0&&Ee(v.value,r.target)!==!0&&A()}function P(r){a("escapeKey"),_(r)}function B(){const r=v.value;r===null||C.value===null||bt({el:r,offset:e.offset,anchorEl:C.value,anchorOrigin:F.value,selfOrigin:ge.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ce(){return w(Me,T.value,()=>g.value===!0?w("div",{role:"menu",...t,ref:v,tabindex:-1,class:["q-menu q-position-engine scroll"+be.value,t.class],style:[t.style,S.value],...we.value},se(n.default)):null)}return z(K),Object.assign(s,{focus:A,updatePosition:B}),ve}});const xt=Object.keys(ce),yt=e=>xt.reduce((n,a)=>{const t=e[a];return t!==void 0&&(n[a]=t),n},{});var Ot=ue({name:"QBtnDropdown",props:{...ce,...de,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:a}){const{proxy:t}=R(),o=k(e.modelValue),u=k(null),l=rt(),f=b(()=>{const d={"aria-expanded":o.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l,"aria-label":e.toggleAriaLabel||t.$q.lang.label[o.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(d["aria-disabled"]="true"),d}),h=b(()=>"q-btn-dropdown__arrow"+(o.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),s=b(()=>Pe(e)),c=b(()=>yt(e));x(()=>e.modelValue,d=>{u.value!==null&&u.value[d?"show":"hide"]()}),x(()=>e.split,S);function v(d){o.value=!0,a("beforeShow",d)}function g(d){a("show",d),a("update:modelValue",!0)}function i(d){o.value=!1,a("beforeHide",d)}function m(d){a("hide",d),a("update:modelValue",!1)}function H(d){a("click",d)}function M(d){Oe(d),S(),a("click",d)}function q(d){u.value!==null&&u.value.toggle(d)}function T(d){u.value!==null&&u.value.show(d)}function S(d){u.value!==null&&u.value.hide(d)}return Object.assign(t,{show:T,hide:S,toggle:q}),re(()=>{e.modelValue===!0&&T()}),()=>{const d=[w(We,{class:h.value,name:e.dropdownIcon||t.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&d.push(w(wt,{ref:u,id:l,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:v,onShow:g,onBeforeHide:i,onHide:m},n.default)),e.split===!1?w(O,{class:"q-btn-dropdown q-btn-dropdown--simple",...c.value,...f.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:H},{default:()=>se(n.label,[]).concat(d),loading:n.loading}):w(je,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...s.value,glossy:e.glossy,stretch:e.stretch},()=>[w(O,{class:"q-btn-dropdown--current",...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:M},{default:n.label,loading:n.loading}),w(O,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...f.value,...s.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>d)])}}});function kt(){return Le($e)}const Ct=Ve({name:"DarkComp",components:{},props:{isDense:Boolean},setup(){const e=kt();return{isDark:k(e.dark.isActive)}},methods:{onToggle:function(){(this.isDark==!1||this.isDark==!0)&&(this.$q.dark.set(this.isDark),localStorage.setItem("mode",this.isDark))}},mounted(){}}),St={class:"q-px-md"},Bt={key:0,class:""};function qt(e,n,a,t,o,u){return G(),J("div",St,[e.isDense?_e("",!0):(G(),J("span",Bt,Re(e.$t("darkMode")),1)),Qe(ut,{modelValue:e.isDark,"onUpdate:modelValue":n[0]||(n[0]=l=>e.isDark=l),onClick:e.onToggle,icon:"dark_mode"},null,8,["modelValue","onClick"])])}var Lt=ze(Ct,[["render",qt]]);export{Lt as D,Ot as Q};
