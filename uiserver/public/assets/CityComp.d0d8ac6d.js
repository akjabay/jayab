import{am as ke,aa as P,S as Ee,aG as Me,ae as T,aH as j,ad as x,ak as F,ag as Y,af as V,Z as De,l as Pe,r as b,c as m,aC as Qe,w as Ie,a8 as Oe,aE as Ae,y as Te,h as S,x as Be,O as ee,g as He,d as je,_ as Fe,D as _,J as E,j as s,G as f,N as q,M,I as C,Q as B,F as te,aq as ae,H as D,aw as Ve,E as le}from"./index.92eb8bda.js";import{Q as Le}from"./QCardSection.b00a13b0.js";import{Q as re}from"./QSeparator.1669020d.js";import{e as Ne,a as oe,Q as Xe,b as ne,c as ie,d as $}from"./selection.aecaed73.js";import{a as Ye,b as Re,Q as Ue}from"./use-dark.ecf38b9d.js";import{b as H}from"./format.801e7424.js";import{s as L,q as se}from"./focusout.7593105c.js";import{Q as Ge}from"./QCardActions.b7f8084b.js";import{Q as Ke}from"./QCard.6a86b0c3.js";import{Q as Je}from"./QDialog.081ad832.js";import{a as Ze}from"./index.191899c2.js";const R={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},We=Object.keys(R);R.all=!0;function ue(a){const l={};for(const u of We)a[u]===!0&&(l[u]=!0);return Object.keys(l).length===0?R:(l.horizontal===!0?l.left=l.right=!0:l.left===!0&&l.right===!0&&(l.horizontal=!0),l.vertical===!0?l.up=l.down=!0:l.up===!0&&l.down===!0&&(l.vertical=!0),l.horizontal===!0&&l.vertical===!0&&(l.all=!0),l)}function ce(a,l){return l.event===void 0&&a.target!==void 0&&a.target.draggable!==!0&&typeof l.handler=="function"&&a.target.nodeName.toUpperCase()!=="INPUT"&&(a.qClonedBy===void 0||a.qClonedBy.indexOf(l.uid)===-1)}function N(a,l,u){const h=Y(a);let e,r=h.left-l.event.x,o=h.top-l.event.y,t=Math.abs(r),d=Math.abs(o);const c=l.direction;c.horizontal===!0&&c.vertical!==!0?e=r<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?e=o<0?"up":"down":c.up===!0&&o<0?(e="up",t>d&&(c.left===!0&&r<0?e="left":c.right===!0&&r>0&&(e="right"))):c.down===!0&&o>0?(e="down",t>d&&(c.left===!0&&r<0?e="left":c.right===!0&&r>0&&(e="right"))):c.left===!0&&r<0?(e="left",t<d&&(c.up===!0&&o<0?e="up":c.down===!0&&o>0&&(e="down"))):c.right===!0&&r>0&&(e="right",t<d&&(c.up===!0&&o<0?e="up":c.down===!0&&o>0&&(e="down")));let z=!1;if(e===void 0&&u===!1){if(l.event.isFirst===!0||l.event.lastDir===void 0)return{};e=l.event.lastDir,z=!0,e==="left"||e==="right"?(h.left-=r,t=0,r=0):(h.top-=o,d=0,o=0)}return{synthetic:z,payload:{evt:a,touch:l.event.mouse!==!0,mouse:l.event.mouse===!0,position:h,direction:e,isFirst:l.event.isFirst,isFinal:u===!0,duration:Date.now()-l.event.time,distance:{x:t,y:d},offset:{x:r,y:o},delta:{x:h.left-l.event.lastX,y:h.top-l.event.lastY}}}}let xe=0;var de=ke({name:"touch-pan",beforeMount(a,{value:l,modifiers:u}){if(u.mouse!==!0&&P.has.touch!==!0)return;function h(r,o){u.mouse===!0&&o===!0?De(r):(u.stop===!0&&F(r),u.prevent===!0&&x(r))}const e={uid:"qvtp_"+xe++,handler:l,modifiers:u,direction:ue(u),noop:Ee,mouseStart(r){ce(r,e)&&Me(r)&&(T(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(r,!0))},touchStart(r){if(ce(r,e)){const o=r.target;T(e,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),e.start(r)}},start(r,o){if(P.is.firefox===!0&&j(a,!0),e.lastEvt=r,o===!0||u.stop===!0){if(e.direction.all!==!0&&(o!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const c=r.type.indexOf("mouse")>-1?new MouseEvent(r.type,r):new TouchEvent(r.type,r);r.defaultPrevented===!0&&x(c),r.cancelBubble===!0&&F(c),Object.assign(c,{qKeyEvent:r.qKeyEvent,qClickOutside:r.qClickOutside,qAnchorHandled:r.qAnchorHandled,qClonedBy:r.qClonedBy===void 0?[e.uid]:r.qClonedBy.concat(e.uid)}),e.initialEvent={target:r.target,event:c}}F(r)}const{left:t,top:d}=Y(r);e.event={x:t,y:d,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:t,lastY:d}},move(r){if(e.event===void 0)return;const o=Y(r),t=o.left-e.event.x,d=o.top-e.event.y;if(t===0&&d===0)return;e.lastEvt=r;const c=e.event.mouse===!0,z=()=>{h(r,c);let y;u.preserveCursor!==!0&&u.preservecursor!==!0&&(y=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ne(),e.styleCleanup=w=>{if(e.styleCleanup=void 0,y!==void 0&&(document.documentElement.style.cursor=y),document.body.classList.remove("non-selectable"),c===!0){const Q=()=>{document.body.classList.remove("no-pointer-events--children")};w!==void 0?setTimeout(()=>{Q(),w()},50):Q()}else w!==void 0&&w()}};if(e.event.detected===!0){e.event.isFirst!==!0&&h(r,e.event.mouse);const{payload:y,synthetic:w}=N(r,e,!1);y!==void 0&&(e.handler(y)===!1?e.end(r):(e.styleCleanup===void 0&&e.event.isFirst===!0&&z(),e.event.lastX=y.position.left,e.event.lastY=y.position.top,e.event.lastDir=w===!0?void 0:y.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||c===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){z(),e.event.detected=!0,e.move(r);return}const g=Math.abs(t),p=Math.abs(d);g!==p&&(e.direction.horizontal===!0&&g>p||e.direction.vertical===!0&&g<p||e.direction.up===!0&&g<p&&d<0||e.direction.down===!0&&g<p&&d>0||e.direction.left===!0&&g>p&&t<0||e.direction.right===!0&&g>p&&t>0?(e.event.detected=!0,e.move(r)):e.end(r,!0))},end(r,o){if(e.event!==void 0){if(V(e,"temp"),P.is.firefox===!0&&j(a,!1),o===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(N(r===void 0?e.lastEvt:r,e).payload);const{payload:t}=N(r===void 0?e.lastEvt:r,e,!0),d=()=>{e.handler(t)};e.styleCleanup!==void 0?e.styleCleanup(d):d()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(a.__qtouchpan=e,u.mouse===!0){const r=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";T(e,"main",[[a,"mousedown","mouseStart",`passive${r}`]])}P.has.touch===!0&&T(e,"main",[[a,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[a,"touchmove","noop","notPassiveCapture"]])},updated(a,l){const u=a.__qtouchpan;u!==void 0&&(l.oldValue!==l.value&&(typeof value!="function"&&u.end(),u.handler=l.value),u.direction=ue(l.modifiers))},beforeUnmount(a){const l=a.__qtouchpan;l!==void 0&&(l.event!==void 0&&l.end(),V(l,"main"),V(l,"temp"),P.is.firefox===!0&&j(a,!1),l.styleCleanup!==void 0&&l.styleCleanup(),delete a.__qtouchpan)}});const ve=["vertical","horizontal"],X={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},fe={prevent:!0,mouse:!0,mouseAllDir:!0},he=a=>a>=250?50:Math.ceil(a/5);var me=Pe({name:"QScrollArea",props:{...Ye,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(a,{slots:l,emit:u}){const h=b(!1),e=b(!1),r=b(!1),o={vertical:b(0),horizontal:b(0)},t={vertical:{ref:b(null),position:b(0),size:b(0)},horizontal:{ref:b(null),position:b(0),size:b(0)}},{proxy:d}=He(),c=Re(a,d.$q);let z=null,g;const p=b(null),y=m(()=>"q-scrollarea"+(c.value===!0?" q-scrollarea--dark":""));t.vertical.percentage=m(()=>{const n=t.vertical.size.value-o.vertical.value;if(n<=0)return 0;const i=H(t.vertical.position.value/n,0,1);return Math.round(i*1e4)/1e4}),t.vertical.thumbHidden=m(()=>(a.visible===null?r.value:a.visible)!==!0&&h.value===!1&&e.value===!1||t.vertical.size.value<=o.vertical.value+1),t.vertical.thumbStart=m(()=>t.vertical.percentage.value*(o.vertical.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=m(()=>Math.round(H(o.vertical.value*o.vertical.value/t.vertical.size.value,he(o.vertical.value),o.vertical.value))),t.vertical.style=m(()=>({...a.thumbStyle,...a.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`})),t.vertical.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=m(()=>{const n=t.horizontal.size.value-o.horizontal.value;if(n<=0)return 0;const i=H(Math.abs(t.horizontal.position.value)/n,0,1);return Math.round(i*1e4)/1e4}),t.horizontal.thumbHidden=m(()=>(a.visible===null?r.value:a.visible)!==!0&&h.value===!1&&e.value===!1||t.horizontal.size.value<=o.horizontal.value+1),t.horizontal.thumbStart=m(()=>t.horizontal.percentage.value*(o.horizontal.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=m(()=>Math.round(H(o.horizontal.value*o.horizontal.value/t.horizontal.size.value,he(o.horizontal.value),o.horizontal.value))),t.horizontal.style=m(()=>({...a.thumbStyle,...a.horizontalThumbStyle,[d.$q.lang.rtl===!0?"right":"left"]:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`})),t.horizontal.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const w=m(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?a.contentStyle:a.contentActiveStyle),Q=[[de,n=>{J(n,"vertical")},void 0,{vertical:!0,...fe}]],pe=[[de,n=>{J(n,"horizontal")},void 0,{horizontal:!0,...fe}]];function U(){const n={};return ve.forEach(i=>{const v=t[i];n[i+"Position"]=v.position.value,n[i+"Percentage"]=v.percentage.value,n[i+"Size"]=v.size.value,n[i+"ContainerSize"]=o[i].value}),n}const G=Qe(()=>{const n=U();n.ref=d,u("scroll",n)},0);function K(n,i,v){if(ve.includes(n)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(n==="vertical"?se:L)(p.value,i,v)}function be({height:n,width:i}){let v=!1;o.vertical.value!==n&&(o.vertical.value=n,v=!0),o.horizontal.value!==i&&(o.horizontal.value=i,v=!0),v===!0&&I()}function ye({position:n}){let i=!1;t.vertical.position.value!==n.top&&(t.vertical.position.value=n.top,i=!0),t.horizontal.position.value!==n.left&&(t.horizontal.position.value=n.left,i=!0),i===!0&&I()}function ze({height:n,width:i}){t.horizontal.size.value!==i&&(t.horizontal.size.value=i,I()),t.vertical.size.value!==n&&(t.vertical.size.value=n,I())}function J(n,i){const v=t[i];if(n.isFirst===!0){if(v.thumbHidden.value===!0)return;g=v.position.value,e.value=!0}else if(e.value!==!0)return;n.isFinal===!0&&(e.value=!1);const k=X[i],A=o[i].value,qe=(v.size.value-A)/(A-v.thumbSize.value),we=n.distance[k.dist],$e=g+(n.direction===k.dir?1:-1)*we*qe;W($e,i)}function Z(n,i){const v=t[i];if(v.thumbHidden.value!==!0){const k=n[X[i].offset];if(k<v.thumbStart.value||k>v.thumbStart.value+v.thumbSize.value){const A=k-v.thumbSize.value/2;W(A/o[i].value*v.size.value,i)}v.ref.value!==null&&v.ref.value.dispatchEvent(new MouseEvent(n.type,n))}}function ge(n){Z(n,"vertical")}function Se(n){Z(n,"horizontal")}function I(){h.value=!0,z!==null&&clearTimeout(z),z=setTimeout(()=>{z=null,h.value=!1},a.delay),a.onScroll!==void 0&&G()}function W(n,i){p.value[X[i].scroll]=n}function Ce(){r.value=!0}function _e(){r.value=!1}let O=null;return Ie(()=>d.$q.lang.rtl,n=>{p.value!==null&&L(p.value,Math.abs(t.horizontal.position.value)*(n===!0?-1:1))}),Oe(()=>{O={top:t.vertical.position.value,left:t.horizontal.position.value}}),Ae(()=>{if(O===null)return;const n=p.value;n!==null&&(L(n,O.left),se(n,O.top))}),Te(G.cancel),Object.assign(d,{getScrollTarget:()=>p.value,getScroll:U,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:K,setScrollPercentage(n,i,v){K(n,i*(t[n].size.value-o[n].value)*(n==="horizontal"&&d.$q.lang.rtl===!0?-1:1),v)}}),()=>S("div",{class:y.value,onMouseenter:Ce,onMouseleave:_e},[S("div",{ref:p,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:a.tabindex!==void 0?a.tabindex:void 0},[S("div",{class:"q-scrollarea__content absolute",style:w.value},Be(l.default,[S(oe,{debounce:0,onResize:ze})])),S(Xe,{axis:"both",onScroll:ye})]),S(oe,{debounce:0,onResize:be}),S("div",{class:t.vertical.barClass.value,style:[a.barStyle,a.verticalBarStyle],"aria-hidden":"true",onMousedown:ge}),S("div",{class:t.horizontal.barClass.value,style:[a.barStyle,a.horizontalBarStyle],"aria-hidden":"true",onMousedown:Se}),ee(S("div",{ref:t.vertical.ref,class:t.vertical.thumbClass.value,style:t.vertical.style.value,"aria-hidden":"true"}),Q),ee(S("div",{ref:t.horizontal.ref,class:t.horizontal.thumbClass.value,style:t.horizontal.style.value,"aria-hidden":"true"}),pe)])}});const et=je({name:"CityComp",props:{item:{type:Object,required:!1},items:{type:Array,required:!1,default:b([])}},setup(){return{secondItems:b([]),selectDialog:b(!1)}},methods:{async onSelectParentItem(a){try{const l=await Ze.main.getCities({province_id:a.id});if(l.status===200){const u=l.data.data;this.secondItems=u,this.secondItems.length>0&&(this.secondItems[0].parent=a)}}catch(l){console.log(l),this.$q.notify({type:"negative",message:this.$t("failed"),caption:this.$t("failed")})}},onSelectItem(a){this.$emit("on-select-item",a),this.secondItems=[],this.selectDialog=!1},onReset(){this.onSelectItem({}),this.selectDialog=!1}}}),tt={class:"q-pa-md"},at={key:0},lt={key:1},rt={key:0},ot={key:1},nt={class:"q-my-sm"},it={class:"q-px-xs"},st={class:"q-px-md text-bold"},ut={class:"q-px-xs"};function ct(a,l,u,h,e,r){return _(),E("div",tt,[s(B,{outline:"","no-caps":"",class:"full-width ad-secondary-btn",onClick:l[0]||(l[0]=o=>a.selectDialog=!0)},{default:f(()=>[a.item&&a.item.name?(_(),E("span",at,[s(q,{class:"q-mx-sm",size:"xs",name:a.item.icon_url},null,8,["name"]),M(" "+C(a.item.name)+" ",1),s(q,{class:"q-mr-xs",name:"check"})])):(_(),E("span",lt,[M(C(a.$t("chooseCity"))+" ",1),s(q,{class:"mr-1",name:"arrow_"+a.$t("left")},null,8,["name"])]))]),_:1}),s(Je,{modelValue:a.selectDialog,"onUpdate:modelValue":l[3]||(l[3]=o=>a.selectDialog=o),style:Ve("direction: "+a.$t("direction"))},{default:f(()=>[s(Ke,{class:"q-pa-none q-ma-none",style:{"min-width":"350px"}},{default:f(()=>[s(Le,null,{default:f(()=>[M(C(a.$t("chooseCity")),1)]),_:1}),s(re),a.secondItems.length==0?(_(),E("div",rt,[s(me,{style:{height:"300px"}},{default:f(()=>[s(ne,null,{default:f(()=>[(_(!0),E(te,null,ae(a.items,(o,t)=>(_(),le(ie,{key:t,clickable:"",class:"pointer",onClick:d=>a.onSelectParentItem(o)},{default:f(()=>[s($,{avatar:""},{default:f(()=>[D("span",null,C(t+1),1)]),_:2},1024),s($,null,{default:f(()=>[s(q,{size:"xs",name:o.icon_url},null,8,["name"])]),_:2},1024),s($,null,{default:f(()=>[M(C(o.name),1)]),_:2},1024),s($,{avatar:""},{default:f(()=>[s(q,{name:"arrow_"+a.$t("left")},null,8,["name"])]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):(_(),E("div",ot,[D("div",nt,[s(B,{flat:"",class:"ad-secondary-btn text-center",onClick:l[1]||(l[1]=o=>a.secondItems=[])},{default:f(()=>[s(q,{name:"arrow_"+a.$t("right")},null,8,["name"])]),_:1}),D("span",it,[s(q,{size:"xs",name:a.secondItems[0].icon_url},null,8,["name"])]),D("span",st,C(a.secondItems[0].parent.name),1)]),s(me,{style:{height:"300px"}},{default:f(()=>[s(ne,null,{default:f(()=>[(_(!0),E(te,null,ae(a.secondItems,(o,t)=>(_(),le(ie,{clickable:"",key:t,class:"pointer",onClick:d=>a.onSelectItem(o)},{default:f(()=>[s($,{avatar:""},{default:f(()=>[D("span",null,C(t+1),1)]),_:2},1024),s($,{avatar:""},{default:f(()=>[D("span",ut,[s(q,{size:"xs",name:o.icon_url},null,8,["name"])])]),_:2},1024),s($,null,{default:f(()=>[M(C(o.name),1)]),_:2},1024),s($,{avatar:""},{default:f(()=>[s(q,{name:"arrow_"+a.$t("left")},null,8,["name"])]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])),s(re),s(Ge,null,{default:f(()=>[s(Ue),s(B,{flat:"",color:"red",onClick:a.onReset},{default:f(()=>[M(C(a.$t("reset")),1)]),_:1},8,["onClick"]),s(B,{flat:"",onClick:l[2]||(l[2]=o=>a.selectDialog=!1)},{default:f(()=>[M(C(a.$t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","style"])])}var Ct=Fe(et,[["render",ct]]);export{Ct as C,me as Q,de as T,ue as g,ce as s};
