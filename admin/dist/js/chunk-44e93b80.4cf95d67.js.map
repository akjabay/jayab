{"version":3,"sources":["webpack:///./src/middleware/authHeader.js","webpack:///./src/views/pages/UserAdd.vue?0f38","webpack:///src/views/pages/UserAdd.vue","webpack:///./src/views/pages/UserAdd.vue?c303","webpack:///./src/views/pages/UserAdd.vue"],"names":["Store","store","authHeader","token","getters","isUserLoggedIn","headers","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","rules","required","min4","model","value","callback","$$v","name","expression","min11","emailMatchOnly","user","unhint","unconfirm","username","show1","min","on","$event","password","addUser","alert_msg","alert_type","_e","staticRenderFns","data","components","AlertComponent","methods","checkUsername","watch","component","VBtn","VCard","VCardText","VCol","VContainer","VDivider","VRow","VTextField"],"mappings":"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","file":"js/chunk-44e93b80.4cf95d67.js","sourcesContent":["import store from '../store/index'\r\nconst Store = store()\r\n\r\nexport default function authHeader () {\r\n  const token = Store.getters['auth/authGetter'].token\r\n  const isUserLoggedIn = Store.getters['auth/authGetter'].isUserLoggedIn\r\n  if (token && isUserLoggedIn) {\r\n    return {\r\n      headers: {\r\n        'authorization': token\r\n      }\r\n    }\r\n  } else {\r\n    return {\r\n      headers: {\r\n        'authorization': null\r\n      }\r\n    }\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"down-top-padding\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"lg\":\"4\",\"md\":\"6\",\"sm\":\"8\",\"xs\":\"11\"}},[_c('v-card',[_c('v-card-text',[_c('h3',{staticClass:\"title blue-grey--text text--darken-2 font-weight-regular\"},[_vm._v(\" کاربر جدید \")]),_c('h6',{staticClass:\"subtitle-2 font-weight-light\"},[_vm._v(\" افزودن کاربر با استفاده از نام کاربری، شماره موبایل یا ایمیل \")])]),_c('v-divider'),_c('v-card-text',[_c('v-text-field',{attrs:{\"type\":\"text\",\"label\":\"نام کامل\",\"rules\":[\n              _vm.rules.required,\n              _vm.rules.min4 ],\"filled\":\"\",\"background-color\":\"transparent\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{attrs:{\"type\":\"text\",\"label\":\"موبایل یا ایمیل\",\"rules\":[\n              _vm.rules.required,\n              _vm.rules.min11,\n              _vm.rules.emailMatchOnly ],\"filled\":\"\",\"background-color\":\"transparent\"},model:{value:(_vm.user),callback:function ($$v) {_vm.user=$$v},expression:\"user\"}}),_c('v-text-field',{attrs:{\"type\":\"text\",\"label\":\"انتخاب نام کاربری\",\"rules\":[\n              _vm.rules.required,\n              _vm.rules.min4 ],\"hint\":_vm.unhint,\"error\":!_vm.unconfirm,\"color\":_vm.unconfirm ? 'success' : 'error',\"filled\":\"\",\"background-color\":\"transparent\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{attrs:{\"filled\":\"\",\"background-color\":\"transparent\",\"append-icon\":_vm.show1 ? 'mdi-eye' : 'mdi-eye-off',\"rules\":[_vm.rules.required, _vm.rules.min],\"type\":_vm.show1 ? 'text' : 'password',\"name\":\"password\",\"label\":\"رمز ورود\",\"hint\":\"رمز ورود حداقل ۸ حرفی است.\",\"counter\":\"\"},on:{\"click:append\":function($event){_vm.show1 = !_vm.show1}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-btn',{staticClass:\"text-capitalize mt-5 element-0\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\" تایید و افزودن \")])],1)],1),(_vm.alert_msg)?_c('AlertComponent',{attrs:{\"alertMsg\":_vm.alert_msg,\"alertType\":_vm.alert_type}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid class=\"down-top-padding\">\r\n    <v-row justify=\"center\">\r\n      <v-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"8\" xs=\"11\">\r\n        <v-card>\r\n          <v-card-text>\r\n            <h3\r\n              class=\"title blue-grey--text text--darken-2 font-weight-regular\"\r\n            >\r\n              کاربر جدید\r\n            </h3>\r\n            <h6 class=\"subtitle-2 font-weight-light\">\r\n              افزودن کاربر با استفاده از نام کاربری، شماره موبایل یا ایمیل\r\n            </h6>\r\n          </v-card-text>\r\n          <v-divider></v-divider>\r\n          <v-card-text>\r\n            <v-text-field\r\n              type=\"text\"\r\n              v-model=\"name\"\r\n              label=\"نام کامل\"\r\n              :rules=\"[\r\n                rules.required,\r\n                rules.min4,\r\n              ]\"\r\n              filled\r\n              background-color=\"transparent\"\r\n            ></v-text-field>\r\n            <v-text-field\r\n              type=\"text\"\r\n              v-model=\"user\"\r\n              label=\"موبایل یا ایمیل\"\r\n              :rules=\"[\r\n                rules.required,\r\n                rules.min11,\r\n                rules.emailMatchOnly,\r\n              ]\"\r\n              filled\r\n              background-color=\"transparent\"\r\n            ></v-text-field>\r\n            <v-text-field\r\n              type=\"text\"\r\n              v-model=\"username\"\r\n              label=\"انتخاب نام کاربری\"\r\n              :rules=\"[\r\n                rules.required,\r\n                rules.min4,\r\n              ]\"\r\n              :hint=\"unhint\"\r\n              :error=\"!unconfirm\"\r\n              :color=\"unconfirm ? 'success' : 'error'\"\r\n              filled\r\n              background-color=\"transparent\"\r\n            ></v-text-field>\r\n            <v-text-field\r\n              v-model=\"password\"\r\n              filled\r\n              background-color=\"transparent\"\r\n              :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n              :rules=\"[rules.required, rules.min]\"\r\n              :type=\"show1 ? 'text' : 'password'\"\r\n              name=\"password\"\r\n              label=\"رمز ورود\"\r\n              hint=\"رمز ورود حداقل ۸ حرفی است.\"\r\n              counter\r\n              @click:append=\"show1 = !show1\"\r\n            ></v-text-field>\r\n\r\n            <v-btn\r\n              @click=\"addUser\"\r\n              class=\"text-capitalize mt-5 element-0\"\r\n              color=\"primary\"\r\n            >\r\n              تایید و افزودن\r\n            </v-btn>\r\n          </v-card-text>\r\n        </v-card>\r\n\r\n        <AlertComponent\r\n          v-if=\"alert_msg\"\r\n          :alertMsg=\"alert_msg\"\r\n          :alertType=\"alert_type\"\r\n        >\r\n        </AlertComponent>\r\n\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport authHeader from '../../middleware/authHeader';\r\nexport default {\r\n  name: \"UserAdd\",\r\n\r\n  data: () => ({\r\n    user: \"\",\r\n    username: \"\",\r\n    name: \"\",\r\n    password: \"\",\r\n    code: \"\",\r\n    show1: false,\r\n    rules: {\r\n      required: (value) => !!value || \"فیلد ضروری!\",\r\n      min: (v) => v.length >= 8 || \"حداقل ۸ کاراکتر!\",\r\n      min4: (v) => v.length >= 4 || !isNaN(v) || \"حداقل ۴ کاراکتر!\",\r\n      min11: (v) => v.length == 11 || isNaN(v) || \"شماره موبایل ۱۱ رقمی است!\",\r\n      emailMatch: (v) =>\r\n        !v.includes(\"@\") ||\r\n        /\\S+@\\S+\\.\\S+/.test(v) ||\r\n        \"ایمیل را درست وارد کنید!\",\r\n      emailMatchOnly: (v) =>\r\n        !isNaN(v) ||\r\n        /\\S+@\\S+\\.\\S+/.test(v) ||\r\n        \"ایمیل را درست وارد کنید!\",\r\n    },\r\n    unhint: \"نام کاربری مورد تایید نیست\",\r\n    unconfirm: false,\r\n    alert_msg: \"\",\r\n    updated_at: \"\",\r\n    newusermsg: \"\",\r\n  }),\r\n  components: {\r\n    AlertComponent: () => import(\"@/components/sdComponents/AlertComponent\"),\r\n  },\r\n  methods: {\r\n    async addUser () {\r\n      this.alert_msg = \"\";\r\n      this.alert_type = null;\r\n      let signup_type;\r\n      isNaN(this.user)\r\n        ? /\\S+@\\S+\\.\\S+/.test(this.user)\r\n          ? (signup_type = \"email\")\r\n          : (signup_type = undefined)\r\n        : (signup_type = \"phone\");\r\n      if (signup_type) {\r\n        try {\r\n          const result = await this.$axios.post(\"/graphql\", {\r\n            query: `mutation {\r\n              userCreate (input: {\r\n                  ${signup_type}: \"${this.user}\"\r\n                  name: \"${this.username}\"\r\n                  username: \"${this.name}\"\r\n                  password: \"${this.password}\"\r\n                }) {\r\n                  id\r\n                  username\r\n                }\r\n              }`,\r\n          }, authHeader());\r\n          if (result.data.data.userCreate.id) {\r\n            this.alert_type = \"success\";\r\n            this.alert_msg = \"کاربر جدید با موفقیت اضافه شد.\";\r\n          } else {\r\n            this.alert_type = \"error\";\r\n            this.alert_msg = \"اطلاعات وارد شده صحیح نیست.\";\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      } else {\r\n        this.alert_type = \"error\";\r\n        this.alert_msg = \"فیلدها معتبر نیست.\";\r\n      }\r\n    },\r\n\r\n    checkUsername: async function () {\r\n      if (this.username.length >= 5) {\r\n        this.unhint = \"نام کاربری مورد تایید نیست\";\r\n        this.unconfirm = false;\r\n        try {\r\n          const result = await this.$axios.post(\"/graphql\", {\r\n            query: `query {\r\n                  authCheckUsername (username: \"${this.username}\")\r\n                }`\r\n            }\r\n          );\r\n          if (result.data.data.errors) {\r\n            this.alert_msg = result.data.data.errors[0].message;\r\n          } else if (result.data.data.authCheckUsername === true) {\r\n            this.unhint = \"نام کاربری تکراری است\";\r\n          } else if (result.data.data.authCheckUsername === false) {\r\n            this.unhint = \"نام کاربری مورد تایید است\";\r\n            this.unconfirm = true;\r\n          }\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      } else {\r\n        this.unhint = \"نام کاربری حداقل 5 حرف است\";\r\n        this.unconfirm = false;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    username: function () {\r\n      this.checkUsername();\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAdd.vue?vue&type=template&id=2904acae&\"\nimport script from \"./UserAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCol,VContainer,VDivider,VRow,VTextField})\n"],"sourceRoot":""}